library(testthat)
library(data.table)
context("rcpp_write_index_outofbound")
library(testUBSAN)


user.display <- user_error_display("~/R/testUBSAN/inst/include/write_index_outofbound_log")
test_that("valgrind writing index out of bound", {
  expect_match(user.display$arg.name,"size_free")
  expect_match(user.display$src.file.lines,"use_after_free.cpp")
  expect_match(user.display$error.message[1],"Invalid read of size 4")
})
